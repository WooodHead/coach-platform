query LessonsToday($start: timestamptz!, $end: timestamptz!) {
  lesson(
    where: { start_time: { _gte: $start, _lte: $end } }
    order_by: { start_time: asc }
  ) {
    id
    name
    start_time
  }
}

query AllLessonsInWeek($weekStart: timestamptz!, $weekEnd: timestamptz!) {
  timetable {
    id
    group {
      name
      students {
        id
      }
    }
    start_time
    duration
    day
  }
  lesson(where: { start_time: { _gte: $weekStart, _lte: $weekEnd } }) {
    id
    name
    start_time
    duration
    timetable_id
  }
}

mutation CreateLesson(
  $timetable_id: uuid
  $start_time: timestamptz!
  $name: String!
  $duration: interval!
  $student_attendances: student_attendance_arr_rel_insert_input!
) {
  insert_lesson_one(
    object: {
      duration: $duration
      name: $name
      start_time: $start_time
      timetable_id: $timetable_id
      student_attendances: $student_attendances
    }
  ) {
    id
  }
}